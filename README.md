# BOCalc - Back Office Calculator üöóüí∞

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏–∑ –°–®–ê —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ–Ω–¥–æ—Ä–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Google Sheets –∏ –ø–æ–ª–Ω—ã–º –∞—É–¥–∏—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π.

**–°—Ç–∞—Ç—É—Å:** MVP –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (65% –∑–∞–≤–µ—Ä—à–µ–Ω–æ)  
**–í–µ—Ä—Å–∏—è:** 0.1.0  
**Cloudflare Account:** zaaatakyrylo@gmail.com

[![Deploy Status](https://img.shields.io/badge/deploy-pending-yellow)](https://bocalc.pages.dev)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14-black)](https://nextjs.org/)
[![Cloudflare](https://img.shields.io/badge/Cloudflare-Workers-orange)](https://workers.cloudflare.com/)

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/yourusername/bocalc.git
cd bocalc

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp env.example .env.local

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
npm run dev              # Frontend –Ω–∞ http://localhost:3000
npm run worker:dev       # Backend API –Ω–∞ http://localhost:8787
```

üìö **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** –°–º. [GETTING_STARTED.md](./docs/GETTING_STARTED.md)

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –î–ª—è –±–∏–∑–Ω–µ—Å–∞
- üè¢ **–ú—É–ª—å—Ç–∏–≤–µ–Ω–¥–æ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –∫–∞–∂–¥—ã–π –≤–µ–Ω–¥–æ—Ä —Å–æ —Å–≤–æ–∏–º–∏ —Ç–∞—Ä–∏—Ñ–∞–º–∏
- üí∞ **–¢–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã** - –∞—É–∫—Ü–∏–æ–Ω–Ω—ã–µ —Å–±–æ—Ä—ã, –¥–æ—Å—Ç–∞–≤–∫–∞, —Ä–∞—Å—Ç–∞–º–æ–∂–∫–∞, –ù–î–°
- üìä **Google Sheets –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—ã
- üìù **–ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç** - –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å –¥–µ—Ç–∞–ª—è–º–∏
- üîê **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º** - —Ä–æ–ª–∏ Admin, Vendor, Viewer

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üåê **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - üá¨üáß English, üá∑üá∫ –†—É—Å—Å–∫–∏–π, üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–±–æ—Ç–∞** - Cloudflare CDN –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É
- üíæ **–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å—á–µ—Ç–æ–≤** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- üìÑ **–≠–∫—Å–ø–æ—Ä—Ç** - PDF –∏ JSON —Ñ–æ—Ä–º–∞—Ç

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS, shadcn/ui
- **Backend**: Cloudflare Workers, Cloudflare Pages
- **Database**: Cloudflare D1 (SQLite)
- **Authentication**: JWT + Cloudflare KV
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: Google Sheets API v4
- **i18n**: next-intl

## üìã –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### Admin
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –≤–µ–Ω–¥–æ—Ä–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### Vendor
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ —Ç–∞—Ä–∏—Ñ–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —Å–≤–æ–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–æ—Å—Ç—É–ø –∫ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—É –¥–ª—è —Å–≤–æ–µ–≥–æ –≤–µ–Ω–¥–æ—Ä–∞

### Viewer
- –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- –ë–µ–∑ –ø—Ä–∞–≤–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
BOCalc/
‚îú‚îÄ‚îÄ frontend/              # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ app/              # App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [locale]/     # –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–µ —Ä–æ—É—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/          # API routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/    # –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ components/       # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ lib/              # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ messages/         # –ü–µ—Ä–µ–≤–æ–¥—ã (ru, uk, en)
‚îú‚îÄ‚îÄ workers/              # Cloudflare Workers
‚îÇ   ‚îú‚îÄ‚îÄ api/              # API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ auth/             # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ google-sheets/    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google
‚îú‚îÄ‚îÄ database/             # D1 —Å—Ö–µ–º—ã –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—á–µ—Ç–∞:
1. **–°—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è** (USD)
2. **–ê—É–∫—Ü–∏–æ–Ω** (Copart, IAAI, Manheim)
3. **–®—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
4. **–ü–æ—Ä—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è** (–û–¥–µ—Å—Å–∞, –†–∏–≥–∞, –∏ —Ç.–¥.)
5. **–¢–∏–ø –∫—É–∑–æ–≤–∞** (Sedan, SUV, Truck, –∏ —Ç.–¥.)
6. **–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞**
7. **–°–æ—Å—Ç–æ—è–Ω–∏–µ** (—Ä–∞–±–æ—á–µ–µ/–Ω–µ —Ä–∞–±–æ—á–µ–µ)

### –†–∞—Å—á–µ—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- –ê—É–∫—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä
- –î–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –ø–æ—Ä—Ç–∞ (–°–®–ê)
- –û–∫–µ–∞–Ω—Å–∫–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞
- –†–∞—Å—Ç–∞–º–æ–∂–∫–∞
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–±–æ—Ä—ã –≤–µ–Ω–¥–æ—Ä–∞
- –ù–î–° (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

## üîÑ Google Sheets —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –õ–∏—Å—Ç: Vendors
| vendor_id | name | active | contact_email | created_at |
|-----------|------|--------|---------------|------------|

### –õ–∏—Å—Ç: Pricing_Rules
| rule_id | vendor_id | type | parameter | value | effective_from |
|---------|-----------|------|-----------|-------|----------------|

### –õ–∏—Å—Ç: Ports
| port_id | port_name | country | base_fee | vendor_id |
|---------|-----------|---------|----------|-----------|

### –õ–∏—Å—Ç: Auctions
| auction_id | auction_name | state | buyer_fee_formula |
|------------|--------------|-------|-------------------|

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Cloudflare

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Cloudflare –∞–∫–∫–∞—É–Ω—Ç (zaaatakyrylo@gmail.com)
- Wrangler CLI
- Node.js 18+

### –ö–æ–º–∞–Ω–¥—ã:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
npm run dev

# –î–µ–ø–ª–æ–π –Ω–∞ Cloudflare Pages
npm run deploy

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ D1 –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npm run db:setup

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:migrate
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º
- Rate limiting –Ω–∞ API endpoints
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Audit logging –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (Audit Log)

–ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å:
- Timestamp
- User ID –∏ —Ä–æ–ª—å
- Vendor ID (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è (CREATE, UPDATE, DELETE)
- –°—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- IP –∞–¥—Ä–µ—Å

## üåê –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:
- üá∑üá∫ –†—É—Å—Å–∫–∏–π (ru)
- üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ (uk)
- üá¨üáß English (en)

–Ø–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:
1. –í—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary - –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

Kirill Za - zaaatakyrylo@gmail.com

