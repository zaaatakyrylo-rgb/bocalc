# ‚úÖ –û—à–∏–±–∫–∞ Hydration –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞
```
NotFoundError: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.
```

–≠—Ç–æ –±—ã–ª–∞ **hydration mismatch** –æ—à–∏–±–∫–∞ –≤ Next.js - –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–Ω—ã–º –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º.

### –†–µ—à–µ–Ω–∏–µ

1. **–î–æ–±–∞–≤–ª–µ–Ω `'use client'` –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**
   - –§–∞–π–ª: `src/app/[locale]/page.tsx`
   - –ü—Ä–∏—á–∏–Ω–∞: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useTranslations()` —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

2. **–£–±—Ä–∞–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - –§–∞–π–ª: `src/app/layout.tsx`
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ: –£–±—Ä–∞–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è Inter font import

3. **–î–æ–±–∞–≤–ª–µ–Ω suppressHydrationWarning**
   - –§–∞–π–ª: `src/app/[locale]/layout.tsx`
   - –ù–∞ `<html>` –∏ `<body>` —Ç–µ–≥–∞—Ö –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

üü¢ **–í–°–ï –†–ê–ë–û–¢–ê–ï–¢!**

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:
- HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- Title –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: "BOCalc - Car Shipping Calculator"
- –ö–æ–Ω—Ç–µ–Ω—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –ù–µ—Ç –æ—à–∏–±–æ–∫ hydration
- Toaster –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

## –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f /tmp/bocalc-frontend.log
tail -f /tmp/bocalc-workers.log
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:3000/ru
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
- **–ì–ª–∞–≤–Ω–∞—è (RU)**: http://localhost:3000/ru
- **–ì–ª–∞–≤–Ω–∞—è (EN)**: http://localhost:3000/en
- **–ì–ª–∞–≤–Ω–∞—è (UK)**: http://localhost:3000/uk
- **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä**: http://localhost:3000/ru/calculator
- **–í—Ö–æ–¥**: http://localhost:3000/ru/login
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: http://localhost:3000/ru/register

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
pkill -f 'next dev|wrangler dev'

# –ü–æ–¥–æ–∂–¥–∞—Ç—å
sleep 2

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞
./start-local.sh
```

### –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Next.js:
```bash
rm -rf .next
npm run dev
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:
1. `src/app/[locale]/page.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω `'use client'`
2. `src/app/layout.tsx` - —É–ø—Ä–æ—â–µ–Ω root layout
3. `src/app/[locale]/layout.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω—ã suppressHydrationWarning —Ñ–ª–∞–≥–∏

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **'use client' directive**: –ì–æ–≤–æ—Ä–∏—Ç Next.js —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **suppressHydrationWarning**: –û—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–±–æ–ª—å—à–∏—Ö —Ä–∞–∑–ª–∏—á–∏—è—Ö –≤ hydration (–Ω–∞–ø—Ä–∏–º–µ—Ä, timestamp)
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω `<html>` –∏ `<body>` –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
1. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
3. ‚úÖ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—Ö–æ–¥
4. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üéâ**

---

*–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: November 17, 2025*

