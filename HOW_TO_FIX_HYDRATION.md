# üîß –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É Hydration

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
```
NotFoundError: Failed to execute 'removeChild' on 'Node': 
The node to be removed is not a child of this node.
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f 'next dev|wrangler dev'

# 2. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Next.js
cd /Users/kirillza/Documents/BOCalc
rm -rf .next

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
./start-local.sh
```

### –®–∞–≥ 2: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** (F12 –∏–ª–∏ Cmd+Option+I)
2. **–ñ–µ—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
   - **Mac**: Cmd + Shift + R
   - **Windows/Linux**: Ctrl + Shift + R
3. –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ **—Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ** (Cmd+Shift+N / Ctrl+Shift+N)

### –®–∞–≥ 3: –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —ç—Ç–æ:

```bash
# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
cd /Users/kirillza/Documents/BOCalc
pkill -f 'next dev'
rm -rf .next
rm -rf node_modules/.cache

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
npm run dev
```

---

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π layout
- **–£–¥–∞–ª–µ–Ω**: `src/app/layout.tsx`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å `src/app/[locale]/layout.tsx`

### 2. –î–æ–±–∞–≤–ª–µ–Ω 'use client' –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- **–§–∞–π–ª**: `src/app/[locale]/page.tsx`
- **–ü—Ä–∏—á–∏–Ω–∞**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç React hooks (`useTranslations`)

### 3. –î–æ–±–∞–≤–ª–µ–Ω—ã suppressHydrationWarning
- –ù–∞ `<html>` –∏ `<body>` —Ç–µ–≥–∞—Ö
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –º–µ–ª–∫–∏—Ö —Ä–∞–∑–ª–∏—á–∏—è—Ö

### 4. –í—Ä–µ–º–µ–Ω–Ω–æ —É–±—Ä–∞–Ω Toaster
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É:
```
http://localhost:3000/ru
```

### –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ:
- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ BOCalc
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä" –∏ "–í–æ–π—Ç–∏"
- ‚úÖ –¢–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ **–ù–ï–¢ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏**

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å:
1. –ù–∞–∂–º–∏—Ç–µ F12 (–∏–ª–∏ Cmd+Option+I –Ω–∞ Mac)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Console"
3. –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∫—Ä–∞—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫

---

## üÜò –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Next.js:
```bash
npm list next
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å: **14.0.4** –∏–ª–∏ –≤—ã—à–µ

### –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –±—Ä–∞—É–∑–µ—Ä:
- Chrome
- Firefox
- Safari

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
# Frontend
tail -f /tmp/bocalc-frontend.log

# –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏, –æ–Ω–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ [locale]/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx          ‚úÖ –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx            ‚úÖ 'use client'
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (auth)/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ (public)/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ calculator/
‚îÇ   ‚îî‚îÄ‚îÄ globals.css
```

**–í–∞–∂–Ω–æ**: –ù–ï–¢ —Ñ–∞–π–ª–∞ `src/app/layout.tsx` - –æ–Ω –±—ã–ª —É–¥–∞–ª–µ–Ω!

---

## ‚ú® –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤:
1. **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è layout —Ñ–∞–π–ª—ã** - —Å–æ–∑–¥–∞–≤–∞–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç HTML —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. **–°—Ç–∞—Ä—ã–π –∫–µ—à** - –±—Ä–∞—É–∑–µ—Ä –∏ Next.js –∫–µ—à–∏—Ä–æ–≤–∞–ª–∏ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
3. **Hot reload** - –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –†–µ—à–µ–Ω–∏–µ:
1. ‚úÖ –û–¥–∏–Ω layout —Ñ–∞–π–ª (`src/app/[locale]/layout.tsx`)
2. ‚úÖ –ß–∏—Å—Ç—ã–π –∫–µ—à (—É–¥–∞–ª–µ–Ω `.next/`)
3. ‚úÖ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ dev server
4. ‚úÖ –ñ–µ—Å—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞

---

## üéâ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–ª–∞:

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é**:
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤
   - –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**:
   - `/ru/calculator`
   - `/ru/login`
   - `/ru/register`

3. **–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å Toaster –æ–±—Ä–∞—Ç–Ω–æ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –≤—Å–µ –µ—â–µ –µ—Å—Ç—å –ø–æ—Å–ª–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—Ç –ª–∏ –¥—Ä—É–≥–∏—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Next.js:
   ```bash
   lsof -i :3000
   ```

2. –£–±–µ–π—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ:
   ```bash
   pkill -9 node
   ./start-local.sh
   ```

---

**–£–¥–∞—á–∏! –û—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å –ø–æ—Å–ª–µ –∂–µ—Å—Ç–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞!** üöÄ

